@model UserManagement.Web.Models.UserLogs.UserLogListViewModel

@{
    ViewBag.Title = "Logs";
}

<h2>Logs</h2>

    <table class="table table-responsive table-striped">
        <thead>
        <tr>
            <th>Date</th>
            <th>User Id</th>
            <th>Property</th>
            <th style="width: 1px;"></th>
        </tr>
        </thead>
        <tbody>
        @foreach (var change in Model.Items)
        {
            <tr>
                <td>@change.ChangedAt.ToString("dd/MM/yyyy HH:mm:ss")</td>
                <td>@change.UserId</td>
                <td>@change.FieldName</td>
                <td>
                    <div class="dropdown">
                        <button type="button" class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown"
                                aria-expanded="false" id="btnToggleActions">
                            Actions
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="btnToggleActions">
                            <li><a class="dropdown-item" asp-controller="UserLogs" asp-action="Details"
                                   asp-route-id="@change.Id">View</a></li>
                        </ul>
                    </div>
                </td>
            </tr>
        }
        </tbody>
    </table>

<hr/>

@if (Model.PageCount > 1)
{
    <div class="pagination">

        <a class="page-link @(Model.CurrentPage <= 1 ? "disabled" : "")" asp-action="List"
           asp-route-page="@(Model.CurrentPage - 1)">Previous</a>
        @for (int i = 1; i <= Model.PageCount; i++)
        {
            <a class="page-link @(i == Model.CurrentPage ? "active" : "")" asp-action="List" asp-route-page="@i">@i</a>
        }
        <a class="page-link @(Model.CurrentPage >= Model.PageCount ? "disabled" : "")" asp-action="List"
           asp-route-page="@(Model.CurrentPage + 1)">Next</a>

    </div>
    <hr/>
}
<p>
    <a asp-controller="Users" asp-action="List" class="btn btn-primary">Back to User List</a>
</p>
